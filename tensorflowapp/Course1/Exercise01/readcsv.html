<html>

<head></head>
<script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@latest"></script>
<script lang="js">
    async function run() {
        const trainingUrl = 'wdbc-test.csv';

        // Take a look at the 'wdbc-train.csv' file and specify the column
        // that should be treated as the label in the space below.
        // HINT: Remember that you are trying to build a classifier that 
        // can predict from the data whether the diagnosis is malignant or benign.
        const trainingData = tf.data.csv(trainingUrl, {
            // YOUR CODE HERE
            columnConfigs: {
                diagnosis: {
                    isLabel: true
                }
            }
        });

        // Convert the training data into arrays in the space below.
        // Note: In this case, the labels are integers, not strings.
        // Therefore, there is no need to convert string labels into
        // a one-hot encoded array of label values like we did in the
        // Iris dataset example. 
        const convertedTrainingData = trainingData.map(({
            xs,
            ys
        }) => {
            // Convert xs(features) and ys(labels) from object form (keyed by column name) to array form.
            return {
                xs: Object.values(xs),
                ys: Object.values(ys)
            };
        }).batch(10); // batch(n) mean numberofsample/n for each batch

        //const tensors = await convertedTrainingData.toArray();
        //console.log(tensors.length);
        //console.log(tensors[0]);

        const c = tf.data.array([{
            a: 1,
            b: 11
        }, {
            a: 2,
            b: 12
        }, {
            a: 3,
            b: 13
        }, {
            a: 4,
            b: 14
        }, {
            a: 5,
            b: 15
        }, {
            a: 6,
            b: 16
        }, {
            a: 7,
            b: 17
        }, {
            a: 8,
            b: 18
        }]).batch(4);
        await convertedTrainingData.forEachAsync(e => {
            console.log('{');
            for (var key in e) {
                console.log(key + ':');
                e[key].print();
            }
            console.log('}');
        })

    }
    run();
</script>

<body>
</body>

</html>